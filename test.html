<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Test Paiement FedaPay</title>
  <script src="https://cdn.fedapay.com/checkout.js?v=1.1.6"></script>
</head>
<body>
  <h1>Test FedaPay</h1>

  <input type="tel" id="phone" placeholder="Numéro de téléphone (ex: 97000000)" />
  <button onclick="launchFedaPay()">Payer</button>

  <script>
    function launchFedaPay() {
      const phone = document.getElementById('phone').value;

      if (!phone || phone.length < 8) {
        alert("Numéro de téléphone invalide");
        return;
      }

      window.FedaPay.init({
        public_key: 'pk_sandbox_ZXhGKFGNXwn853-mYF9pANmi', // remplace si besoin
        transaction: {
          amount: 500,
          description: 'Test modal FedaPay',
          currency: { iso: 'XOF' }
        },
        customer: {
          firstname: 'Test',
          lastname: 'User',
          email: 'test@fedapay.com',
          phone_number: {
            number: phone,
            country: 'BJ'
          }
        },
        onSuccess: () => alert('✅ Paiement validé !'),
        onError: (e) => alert('❌ Erreur: ' + e.message)
      });
    }
  </script>
</body>
</html>
