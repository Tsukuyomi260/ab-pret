{"version":3,"file":"static/js/407.93833a4c.chunk.js","mappings":"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","sources":["components/Admin/AdminDetailedStatistics.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { getLoans, getPayments } from '../../utils/supabaseAPI';\nimport {\n  BarChart3,\n  ArrowLeft,\n  Calendar,\n  TrendingUp,\n  CreditCard,\n  CheckCircle,\n  DollarSign,\n  Activity,\n  RefreshCw,\n  Target\n} from 'lucide-react';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n  AreaChart,\n  Area\n} from 'recharts';\nimport { formatCurrency } from '../../utils/helpers';\n\nconst PERIODS = [\n  { id: 'day', label: 'Aujourd\\'hui' },\n  { id: 'week', label: 'Cette semaine' },\n  { id: 'month', label: 'Ce mois' },\n  { id: 'quarter', label: 'Ce trimestre' },\n  { id: 'year', label: 'Cette année' }\n];\n\nfunction getPeriodRange(periodId) {\n  const now = new Date();\n  const end = new Date(now);\n  end.setHours(23, 59, 59, 999);\n  let start = new Date(now);\n\n  switch (periodId) {\n    case 'day':\n      start.setHours(0, 0, 0, 0);\n      break;\n    case 'week':\n      start.setDate(start.getDate() - 6);\n      start.setHours(0, 0, 0, 0);\n      break;\n    case 'month':\n      start.setDate(1);\n      start.setHours(0, 0, 0, 0);\n      break;\n    case 'quarter':\n      const q = Math.floor(now.getMonth() / 3) + 1;\n      start.setMonth((q - 1) * 3, 1);\n      start.setHours(0, 0, 0, 0);\n      break;\n    case 'year':\n      start.setMonth(0, 1);\n      start.setHours(0, 0, 0, 0);\n      break;\n    default:\n      start.setMonth(start.getMonth() - 1);\n  }\n  return { start, end };\n}\n\nfunction isInRange(dateStr, start, end) {\n  const d = new Date(dateStr);\n  return d >= start && d <= end;\n}\n\nconst formatDateForInput = (d) => d.toISOString().slice(0, 10);\n\nconst AdminDetailedStatistics = () => {\n  const navigate = useNavigate();\n  const [period, setPeriod] = useState('month');\n  const [loading, setLoading] = useState(true);\n  const [loans, setLoans] = useState([]);\n  const [payments, setPayments] = useState([]);\n  const now = useMemo(() => new Date(), []);\n  const [customStartDate, setCustomStartDate] = useState(() => {\n    const d = new Date(now);\n    d.setMonth(d.getMonth() - 1);\n    return formatDateForInput(d);\n  });\n  const [customEndDate, setCustomEndDate] = useState(() => formatDateForInput(now));\n\n  const range = useMemo(() => {\n    if (period === 'custom' && customStartDate && customEndDate) {\n      const start = new Date(customStartDate);\n      start.setHours(0, 0, 0, 0);\n      const end = new Date(customEndDate);\n      end.setHours(23, 59, 59, 999);\n      return { start, end };\n    }\n    return getPeriodRange(period);\n  }, [period, customStartDate, customEndDate]);\n\n  useEffect(() => {\n    let cancelled = false;\n    async function load() {\n      setLoading(true);\n      try {\n        const [loansRes, paymentsRes] = await Promise.all([\n          getLoans(),\n          getPayments()\n        ]);\n        if (!cancelled) {\n          setLoans(loansRes.success ? loansRes.data || [] : []);\n          setPayments(paymentsRes.success ? paymentsRes.data || [] : []);\n        }\n      } finally {\n        if (!cancelled) setLoading(false);\n      }\n    }\n    load();\n    return () => { cancelled = true; };\n  }, []);\n\n  const stats = useMemo(() => {\n    const { start, end } = range;\n    const validated = (l) => l.approved_at && l.status !== 'pending' && l.status !== 'rejected';\n    const completedLoans = loans.filter(l => l.status === 'completed' && l.approved_at);\n\n    const loansCreatedInPeriod = loans.filter(l => isInRange(l.created_at, start, end));\n    const loansValidatedInPeriod = loans.filter(l => l.approved_at && isInRange(l.approved_at, start, end));\n    const paymentsInPeriod = payments.filter(p => isInRange(p.payment_date || p.created_at, start, end));\n\n    const totalPaidInPeriod = paymentsInPeriod.reduce((s, p) => s + (p.amount || 0), 0);\n    const principalValidatedInPeriod = loansValidatedInPeriod.reduce((s, l) => s + (l.amount || 0), 0);\n    const interestValidatedInPeriod = loansValidatedInPeriod.reduce((s, l) => {\n      return s + Math.round((l.amount || 0) * ((l.interest_rate || 0) / 100));\n    }, 0);\n\n    const completedInPeriod = completedLoans.filter(l => {\n      const loanPayments = payments.filter(p => p.loan_id === l.id);\n      const lastDate = loanPayments.length ? Math.max(...loanPayments.map(p => new Date(p.payment_date || p.created_at).getTime())) : new Date(l.updated_at || l.approved_at).getTime();\n      return lastDate >= start.getTime() && lastDate <= end.getTime();\n    });\n    const interestCollectedInPeriod = completedInPeriod.reduce((s, l) => {\n      return s + Math.round((l.amount || 0) * ((l.interest_rate || 0) / 100));\n    }, 0);\n\n    const totalPrincipalValidated = loans.filter(validated).reduce((s, l) => s + (l.amount || 0), 0);\n    const totalPaidAll = payments.reduce((s, p) => s + (p.amount || 0), 0);\n    const repaymentRate = totalPrincipalValidated > 0 ? Math.round((totalPaidAll / totalPrincipalValidated) * 100) : 0;\n\n    return {\n      loansCreatedInPeriod: loansCreatedInPeriod.length,\n      loansValidatedInPeriod: loansValidatedInPeriod.length,\n      principalValidatedInPeriod,\n      interestCollectedInPeriod,\n      totalPaidInPeriod,\n      interestValidatedInPeriod,\n      repaymentRate,\n      byDay: groupRequestsForChart(loansCreatedInPeriod, start, end, period === 'custom' ? 'day' : period),\n      byStatus: getStatusDistribution(loans),\n      interestByMonth: getInterestByMonth(loans, payments)\n    };\n  }, [loans, payments, range, period]);\n\n  function groupRequestsForChart(loanList, start, end, periodId) {\n    if (periodId === 'year') {\n      const byMonth = {};\n      for (let m = 0; m < 12; m++) {\n        const key = `${start.getFullYear()}-${String(m + 1).padStart(2, '0')}`;\n        byMonth[key] = { date: key, demandes: 0, label: new Date(start.getFullYear(), m, 1).toLocaleDateString('fr-FR', { month: 'short', year: '2-digit' }) };\n      }\n      loanList.forEach(l => {\n        const key = new Date(l.created_at).toISOString().slice(0, 7);\n        if (byMonth[key]) byMonth[key].demandes += 1;\n      });\n      return Object.values(byMonth).sort((a, b) => a.date.localeCompare(b.date));\n    }\n    if (periodId === 'quarter') {\n      const buckets = {};\n      const d = new Date(start);\n      while (d <= end) {\n        const weekStart = new Date(d);\n        weekStart.setDate(d.getDate() - d.getDay());\n        const weekKey = weekStart.toISOString().slice(0, 10);\n        if (!buckets[weekKey]) buckets[weekKey] = { date: weekKey, demandes: 0, label: `S. ${weekStart.getMonth() + 1}/${String(weekStart.getDate()).padStart(2, '0')}` };\n        d.setDate(d.getDate() + 1);\n      }\n      loanList.forEach(l => {\n        const dt = new Date(l.created_at);\n        const weekStart = new Date(dt);\n        weekStart.setDate(dt.getDate() - dt.getDay());\n        const weekKey = weekStart.toISOString().slice(0, 10);\n        if (buckets[weekKey]) buckets[weekKey].demandes += 1;\n      });\n      return Object.values(buckets).sort((a, b) => a.date.localeCompare(b.date));\n    }\n    const map = {};\n    const d = new Date(start);\n    while (d <= end) {\n      const key = d.toISOString().slice(0, 10);\n      map[key] = { date: key, demandes: 0, label: d.toLocaleDateString('fr-FR', { day: 'numeric', month: 'short' }) };\n      d.setDate(d.getDate() + 1);\n    }\n    loanList.forEach(l => {\n      const key = new Date(l.created_at).toISOString().slice(0, 10);\n      if (map[key]) map[key].demandes += 1;\n    });\n    return Object.values(map).sort((a, b) => a.date.localeCompare(b.date));\n  }\n\n  function getStatusDistribution(loanList) {\n    const statuses = { pending: 0, active: 0, approved: 0, overdue: 0, completed: 0, rejected: 0 };\n    loanList.forEach(l => {\n      const s = l.status || 'pending';\n      if (statuses[s] !== undefined) statuses[s] += 1;\n    });\n    return [\n      { name: 'En attente', value: statuses.pending, color: '#eab308' },\n      { name: 'Actifs', value: statuses.active + statuses.approved + statuses.overdue, color: '#3b82f6' },\n      { name: 'Remboursés', value: statuses.completed, color: '#22c55e' },\n      { name: 'Rejetés', value: statuses.rejected, color: '#ef4444' }\n    ].filter(d => d.value > 0);\n  }\n\n  function getInterestByMonth(loanList, paymentList) {\n    const completed = loanList.filter(l => l.status === 'completed' && l.approved_at);\n    const byMonth = {};\n    completed.forEach(l => {\n      const loanPays = paymentList.filter(p => p.loan_id === l.id);\n      const lastDate = loanPays.length\n        ? new Date(Math.max(...loanPays.map(p => new Date(p.payment_date || p.created_at).getTime())))\n        : new Date(l.updated_at || l.approved_at);\n      const key = `${lastDate.getFullYear()}-${String(lastDate.getMonth() + 1).padStart(2, '0')}`;\n      const interest = Math.round((l.amount || 0) * ((l.interest_rate || 0) / 100));\n      byMonth[key] = (byMonth[key] || 0) + interest;\n    });\n    return Object.entries(byMonth)\n      .map(([month, value]) => ({ month, value, label: month }))\n      .sort((a, b) => a.month.localeCompare(b.month))\n      .slice(-12);\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-green-50 via-white to-emerald-50/30 pb-24\">\n      <div className=\"bg-white/80 backdrop-blur-lg shadow-sm border-b border-gray-100 sticky top-0 z-30\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4\">\n          <div className=\"flex items-center justify-between gap-4\">\n            <div className=\"flex items-center gap-3\">\n              <button\n                type=\"button\"\n                onClick={() => navigate('/admin/analytics')}\n                className=\"p-2 rounded-xl bg-green-100 text-green-700 hover:bg-green-200 transition-colors\"\n                aria-label=\"Retour\"\n              >\n                <ArrowLeft size={20} />\n              </button>\n              <div className=\"p-2.5 bg-green-100 rounded-xl\">\n                <BarChart3 size={24} className=\"text-green-600\" />\n              </div>\n              <div>\n                <h1 className=\"text-xl sm:text-2xl font-bold text-gray-900 font-montserrat\">Statistiques détaillées</h1>\n                <p className=\"text-sm text-gray-500\">Graphiques et filtres par période</p>\n              </div>\n            </div>\n            <button\n              type=\"button\"\n              onClick={() => window.location.reload()}\n              className=\"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-xl text-gray-700 hover:bg-gray-50 transition-colors shadow-sm\"\n            >\n              <RefreshCw size={18} />\n              <span className=\"hidden sm:inline text-sm font-medium\">Actualiser</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\n        {loading ? (\n          <div className=\"flex flex-col items-center justify-center py-16 gap-4\">\n            <div className=\"animate-spin rounded-full h-10 w-10 border-2 border-green-500 border-t-transparent\" />\n            <p className=\"text-gray-500 text-sm\">Chargement des données...</p>\n          </div>\n        ) : (\n          <>\n            {/* Filtre période */}\n            <div className=\"mb-6\">\n              <p className=\"text-sm font-medium text-gray-700 mb-2 flex items-center gap-2\">\n                <Calendar size={16} className=\"text-green-600\" />\n                Période\n              </p>\n              <div className=\"flex flex-wrap gap-2 mb-4\">\n                {PERIODS.map((p) => (\n                  <button\n                    key={p.id}\n                    type=\"button\"\n                    onClick={() => setPeriod(p.id)}\n                    className={`px-4 py-2.5 rounded-xl text-sm font-medium transition-all ${\n                      period === p.id && period !== 'custom'\n                        ? 'bg-green-500 text-white shadow-md'\n                        : 'bg-white text-gray-600 border border-gray-200 hover:bg-green-50 hover:border-green-200'\n                    }`}\n                  >\n                    {p.label}\n                  </button>\n                ))}\n              </div>\n              {/* Sélection de dates précises */}\n              <div className=\"flex flex-wrap items-center gap-3 p-4 bg-white rounded-2xl border border-gray-100 shadow-sm\">\n                <div className=\"flex items-center gap-2 text-gray-600\">\n                  <Calendar size={20} className=\"text-green-600 flex-shrink-0\" />\n                  <span className=\"text-sm font-medium\">Dates personnalisées</span>\n                </div>\n                <div className=\"flex flex-wrap items-center gap-2 sm:gap-4\">\n                  <label className=\"flex items-center gap-2 text-sm\">\n                    <span className=\"text-gray-500 whitespace-nowrap\">Du</span>\n                    <input\n                      type=\"date\"\n                      value={customStartDate}\n                      onChange={(e) => {\n                        setCustomStartDate(e.target.value);\n                        setPeriod('custom');\n                        if (e.target.value > customEndDate) setCustomEndDate(e.target.value);\n                      }}\n                      className=\"px-3 py-2 rounded-xl border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 outline-none text-gray-900\"\n                    />\n                  </label>\n                  <label className=\"flex items-center gap-2 text-sm\">\n                    <span className=\"text-gray-500 whitespace-nowrap\">au</span>\n                    <input\n                      type=\"date\"\n                      value={customEndDate}\n                      min={customStartDate}\n                      onChange={(e) => {\n                        setCustomEndDate(e.target.value);\n                        setPeriod('custom');\n                        if (e.target.value < customStartDate) setCustomStartDate(e.target.value);\n                      }}\n                      className=\"px-3 py-2 rounded-xl border border-gray-200 focus:border-green-500 focus:ring-2 focus:ring-green-500/20 outline-none text-gray-900\"\n                    />\n                  </label>\n                  {period === 'custom' && (\n                    <span className=\"text-xs text-green-600 font-medium bg-green-50 px-2 py-1 rounded-lg\">Personnalisé</span>\n                  )}\n                </div>\n              </div>\n            </div>\n\n            {/* Cartes stats période */}\n            <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8\">\n              <div className=\"bg-white rounded-2xl p-4 sm:p-5 shadow-lg border border-gray-100\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <div className=\"p-2 bg-blue-100 rounded-lg\">\n                    <CreditCard size={18} className=\"text-blue-600\" />\n                  </div>\n                  <span className=\"text-xs font-medium text-gray-500\">Demandes reçues</span>\n                </div>\n                <p className=\"text-2xl font-bold text-gray-900\">{stats.loansCreatedInPeriod}</p>\n              </div>\n              <div className=\"bg-white rounded-2xl p-4 sm:p-5 shadow-lg border border-gray-100\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <div className=\"p-2 bg-green-100 rounded-lg\">\n                    <CheckCircle size={18} className=\"text-green-600\" />\n                  </div>\n                  <span className=\"text-xs font-medium text-gray-500\">Prêts validés</span>\n                </div>\n                <p className=\"text-2xl font-bold text-gray-900\">{stats.loansValidatedInPeriod}</p>\n              </div>\n              <div className=\"bg-white rounded-2xl p-4 sm:p-5 shadow-lg border border-gray-100\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <div className=\"p-2 bg-emerald-100 rounded-lg\">\n                    <DollarSign size={18} className=\"text-emerald-600\" />\n                  </div>\n                  <span className=\"text-xs font-medium text-gray-500\">Intérêts collectés (période)</span>\n                </div>\n                <p className=\"text-lg font-bold text-gray-900\">{formatCurrency(stats.interestCollectedInPeriod)}</p>\n              </div>\n              <div className=\"bg-white rounded-2xl p-4 sm:p-5 shadow-lg border border-gray-100\">\n                <div className=\"flex items-center gap-2 mb-2\">\n                  <div className=\"p-2 bg-amber-100 rounded-lg\">\n                    <Target size={18} className=\"text-amber-600\" />\n                  </div>\n                  <span className=\"text-xs font-medium text-gray-500\">Taux remboursement</span>\n                </div>\n                <p className=\"text-2xl font-bold text-gray-900\">{stats.repaymentRate}%</p>\n              </div>\n            </div>\n\n            {/* Montant prêté & Paiements période */}\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8\">\n              <div className=\"bg-white rounded-2xl p-5 shadow-lg border border-gray-100\">\n                <p className=\"text-sm font-medium text-gray-500 mb-1\">Principal prêté (période)</p>\n                <p className=\"text-xl font-bold text-green-700\">{formatCurrency(stats.principalValidatedInPeriod)}</p>\n              </div>\n              <div className=\"bg-white rounded-2xl p-5 shadow-lg border border-gray-100\">\n                <p className=\"text-sm font-medium text-gray-500 mb-1\">Paiements reçus (période)</p>\n                <p className=\"text-xl font-bold text-blue-600\">{formatCurrency(stats.totalPaidInPeriod)}</p>\n              </div>\n            </div>\n\n            {/* Graphique demandes */}\n            <div className=\"bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100 mb-6\">\n              <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                <Activity size={20} className=\"text-green-600\" />\n                Demandes de prêts (période)\n              </h3>\n              <div className=\"h-64 sm:h-72\">\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <BarChart data={stats.byDay} margin={{ top: 8, right: 8, left: 0, bottom: 0 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\n                    <XAxis dataKey=\"label\" tick={{ fontSize: 11 }} stroke=\"#94a3b8\" />\n                    <YAxis tick={{ fontSize: 11 }} stroke=\"#94a3b8\" allowDecimals={false} />\n                    <Tooltip\n                      contentStyle={{ borderRadius: '12px', border: '1px solid #e2e8f0' }}\n                      formatter={(value) => [value, 'Demandes']}\n                      labelFormatter={(label) => `Jour: ${label}`}\n                    />\n                    <Bar dataKey=\"demandes\" fill=\"#22c55e\" radius={[6, 6, 0, 0]} name=\"Demandes\" />\n                  </BarChart>\n                </ResponsiveContainer>\n              </div>\n            </div>\n\n            {/* Intérêts par mois + Répartition statuts */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6\">\n              <div className=\"bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2\">\n                  <TrendingUp size={20} className=\"text-green-600\" />\n                  Intérêts collectés (par mois)\n                </h3>\n                <div className=\"h-64\">\n                  {stats.interestByMonth.length > 0 ? (\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <AreaChart data={stats.interestByMonth} margin={{ top: 8, right: 8, left: 0, bottom: 0 }}>\n                        <defs>\n                          <linearGradient id=\"colorInterest\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                            <stop offset=\"5%\" stopColor=\"#22c55e\" stopOpacity={0.4} />\n                            <stop offset=\"95%\" stopColor=\"#22c55e\" stopOpacity={0} />\n                          </linearGradient>\n                        </defs>\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\n                        <XAxis dataKey=\"label\" tick={{ fontSize: 10 }} stroke=\"#94a3b8\" />\n                        <YAxis tick={{ fontSize: 10 }} stroke=\"#94a3b8\" tickFormatter={(v) => `${v / 1000}k`} />\n                        <Tooltip\n                          contentStyle={{ borderRadius: '12px', border: '1px solid #e2e8f0' }}\n                          formatter={(value) => [formatCurrency(value), 'Intérêts']}\n                        />\n                        <Area type=\"monotone\" dataKey=\"value\" stroke=\"#22c55e\" strokeWidth={2} fill=\"url(#colorInterest)\" name=\"Intérêts\" />\n                      </AreaChart>\n                    </ResponsiveContainer>\n                  ) : (\n                    <div className=\"h-full flex items-center justify-center text-gray-400 text-sm\">Aucune donnée sur les intérêts par mois</div>\n                  )}\n                </div>\n              </div>\n              <div className=\"bg-white rounded-2xl p-4 sm:p-6 shadow-lg border border-gray-100\">\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4\">Répartition des prêts</h3>\n                <div className=\"h-64 flex items-center justify-center\">\n                  {stats.byStatus.length > 0 ? (\n                    <ResponsiveContainer width=\"100%\" height=\"100%\">\n                      <PieChart>\n                        <Pie\n                          data={stats.byStatus}\n                          cx=\"50%\"\n                          cy=\"50%\"\n                          innerRadius={60}\n                          outerRadius={90}\n                          paddingAngle={2}\n                          dataKey=\"value\"\n                          nameKey=\"name\"\n                          label={({ name, value }) => `${name}: ${value}`}\n                        >\n                          {stats.byStatus.map((entry, index) => (\n                            <Cell key={entry.name} fill={entry.color} />\n                          ))}\n                        </Pie>\n                        <Tooltip formatter={(value) => [value, 'Prêts']} contentStyle={{ borderRadius: '12px', border: '1px solid #e2e8f0' }} />\n                        <Legend />\n                      </PieChart>\n                    </ResponsiveContainer>\n                  ) : (\n                    <p className=\"text-gray-400 text-sm\">Aucun prêt</p>\n                  )}\n                </div>\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDetailedStatistics;\n"],"names":["PERIODS","id","label","isInRange","dateStr","start","end","d","Date","formatDateForInput","toISOString","slice","AdminDetailedStatistics","navigate","useNavigate","period","setPeriod","useState","loading","setLoading","loans","setLoans","payments","setPayments","now","useMemo","customStartDate","setCustomStartDate","setMonth","getMonth","customEndDate","setCustomEndDate","range","setHours","periodId","setDate","getDate","q","Math","floor","getPeriodRange","useEffect","cancelled","async","loansRes","paymentsRes","Promise","all","getLoans","getPayments","success","data","load","stats","completedLoans","filter","l","status","approved_at","loansCreatedInPeriod","created_at","loansValidatedInPeriod","totalPaidInPeriod","p","payment_date","reduce","s","amount","principalValidatedInPeriod","interestValidatedInPeriod","round","interest_rate","interestCollectedInPeriod","loanPayments","loan_id","lastDate","length","max","map","getTime","updated_at","totalPrincipalValidated","totalPaidAll","repaymentRate","byDay","groupRequestsForChart","byStatus","getStatusDistribution","interestByMonth","getInterestByMonth","loanList","byMonth","m","key","concat","getFullYear","String","padStart","date","demandes","toLocaleDateString","month","year","forEach","Object","values","sort","a","b","localeCompare","buckets","weekStart","getDay","weekKey","dt","day","statuses","pending","active","approved","overdue","completed","rejected","undefined","name","value","color","paymentList","loanPays","interest","entries","_ref","_jsxs","className","children","_jsx","type","onClick","ArrowLeft","size","BarChart3","window","location","reload","RefreshCw","_Fragment","Calendar","onChange","e","target","min","CreditCard","CheckCircle","DollarSign","formatCurrency","Target","Activity","ResponsiveContainer","width","height","BarChart","margin","top","right","left","bottom","CartesianGrid","strokeDasharray","stroke","XAxis","dataKey","tick","fontSize","YAxis","allowDecimals","Tooltip","contentStyle","borderRadius","border","formatter","labelFormatter","Bar","fill","radius","TrendingUp","AreaChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","tickFormatter","v","Area","strokeWidth","PieChart","Pie","cx","cy","innerRadius","outerRadius","paddingAngle","nameKey","_ref2","entry","index","Cell","Legend"],"sourceRoot":""}